---
redirect_from:
  - "/02/02-pandas"
interact_link: content/02/02_Pandas.ipynb
kernel_name: python3
kernel_path: content/02
has_widgets: false
title: |-
  Intro to Pandas
pagenum: 10
prev_page:
  url: /02/01a-numpy-practice.html
next_page:
  url: /02/02a-pandas-practice.html
suffix: .ipynb
search: df data pandas media giphy dataset year br gm ford com variables methods function variable github method example sales tables class columns gender gif essential want firm name io e g run save syntax groupby read get youll wide same here names feet height html pd mean values slice also work plot industry python used dataframe need loc jakevdp pythondatasciencehandbook observations query leverage only analysis functions dataframes operations always code v column tall practice called just indexing merge drop summary pivot object unbiased because its lecture wrangling exploration steps datasets try common into knowing once documentation help without database few

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    <div id="page-info"><div id="page-title">Intro to Pandas</div>
</div>
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Powerful-Pandas">Powerful Pandas<a class="anchor-link" href="#Powerful-Pandas"> </a></h1><p>It's time to learn <code>pandas</code>.</p>
<p><img src="https://media.giphy.com/media/QxZ0nbcVgMlPlnfZos/giphy.gif" alt=""></p>
<p>I promise it will go better than this</p>
<p><img src="https://media.giphy.com/media/EPcvhM28ER9XW/giphy.gif" alt=""></p>
<p>... and when we're done,</p>
<p><img src="https://media.giphy.com/media/fUSX3E4imAn9WHwrCV/giphy.gif" alt=""></p>
<p>I also promise: Only 3 more panda gifs this lecture.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Outline">Outline<a class="anchor-link" href="#Outline"> </a></h2><ol>
<li>Be patient and persistent: keep going when the scope of <code>pandas</code> and your first data analysis exercises stump you!</li>
<li>Essential functions for data wrangling, statistics, and exploration</li>
<li>Example: Data wrangling and exploration that is readable and powerful</li>
<li>Cookbook: Typical data analysis steps, table creation, and figures</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Do-not-fret-the-size-of-Pandas">Do not fret the size of Pandas<a class="anchor-link" href="#Do-not-fret-the-size-of-Pandas"> </a></h2><p><img src="https://media.giphy.com/media/nXwhk6k5R97Da/giphy.gif" alt="">
<img src="https://media.giphy.com/media/gB5o7HVgpkCYM/giphy.gif" alt=""></p>
<p>There are over 250 methods that work on DataFrames objects! This means two things:</p>
<ol>
<li><a href="https://media.giphy.com/media/3o84sq21TxDH6PyYms/giphy.gif">(Unlimited) Power</a>!  </li>
<li>Oye, hard to remember!</li>
</ol>
<p>On top of trying to memorize (well, sort of) the available methods, a tough part of data science is conceptualizing how to shape and format and construct datasets so that algos you want to run can run and so that plots can plot.</p>
<p>So I'm going to try to reduce it to the most common operations, and make you aware of things you can do. By the end of the semester, your Pandas proficiency will have you feeling like <a href="https://media.giphy.com/media/3o84sq21TxDH6PyYms/giphy.gif">Sheev Palpy</a>.</p>
<ul>
<li>Until then, rely on this page, develop and save your "cookbooks" for common operations you run into. </li>
<li><strong>Knowing about possible operations, and when and why to use them is more important than memorizing syntax!</strong> If you have a firm-year panel with sales, and you want to compute industry computation, knowing that you can run a <code>groupby</code> to reduce a firm-year panel to an industry-year panel is more important than knowing the <code>groupby</code> syntax. You can always look up syntax once you know a function is needed. </li>
<li>This chapter contains a lot of informational tables and code snippets; <strong>read it at least twice</strong>. Once to understand <em>when and why</em> to run a given function, and once to dig into the syntax. </li>
<li>I cover only the most essential functions. Make sure to bookmark <a href="https://pandas.pydata.org/pandas-docs/stable/?v=20200122203822">pandas documentation</a> (which is in Jupyter's "Help" menu too) and a favorite resource from the Resources tab.</li>
</ul>
<p>Pandas is worth the overhead. This class as a whole is utterly unfeasible without pandas, as it makes cutting edge data science feasible (and easy, ultimately!). Additionally, it is the #1 way that professionals in industry and academia interact with tabular data in Python. (Read: Pandas get paid.)</p>
<p><strong>Let me repeat: bookmark the <a href="https://pandas.pydata.org/pandas-docs/stable/?v=20200122203822">pandas documentation</a>, you'll be there a lot!</strong></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-is-pandas-/-vocab">What is pandas / vocab<a class="anchor-link" href="#What-is-pandas-/-vocab"> </a></h2><blockquote><p><em><strong>The fundamental principle of database design is that the physical structure of a database should communicate its logical structure</strong></em></p>
</blockquote>
<p>Pandas data are stored in two-dimensional tables that do this. A few vocabulary terms:</p>
<ol>
<li><strong>"Index"</strong> - The identifying information for a row. In our "Golden Rules" lecture we used the term "key" (which I prefer), but pandas uses Index. </li>
<li><strong>"Series"</strong> - A database with a single column ("variable") </li>
<li><strong>"DataFrame"</strong> - A database with as many columns/variables as you'd like (0, 1, ... 1 million). A DataFrame is, in essence, an Excel sheet. </li>
<li><strong>"Wide data"</strong> vs. <strong>"Long data"</strong>:</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell tag_popout">

<div class="cell border-box-sizing text_cell rendered tag_popout"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The notion of "wide" and "long" data still applies when more variables are added:</p>
<p>This is a <strong>long dataset</strong>:</p>
<table>
<thead><tr>
<th style="text-align:left">Year</th>
<th style="text-align:left">Firm</th>
<th style="text-align:left">Sales</th>
<th style="text-align:left">Profits</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">2000</td>
<td style="text-align:left">Ford</td>
<td style="text-align:left">10</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2001</td>
<td style="text-align:left">Ford</td>
<td style="text-align:left">12</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2002</td>
<td style="text-align:left">Ford</td>
<td style="text-align:left">14</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2003</td>
<td style="text-align:left">Ford</td>
<td style="text-align:left">16</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2000</td>
<td style="text-align:left">GM</td>
<td style="text-align:left">11</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">2001</td>
<td style="text-align:left">GM</td>
<td style="text-align:left">13</td>
<td style="text-align:left">2</td>
</tr>
<tr>
<td style="text-align:left">2002</td>
<td style="text-align:left">GM</td>
<td style="text-align:left">13</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">2003</td>
<td style="text-align:left">GM</td>
<td style="text-align:left">15</td>
<td style="text-align:left">2</td>
</tr>
</tbody>
</table>
<p>The exact same data, stored as a <strong>wide dataset</strong>:</p>
<table>
<thead><tr>
<th style="text-align:left"><br> Year</th>
<th style="text-align:left">Sales <br> GM</th>
<th style="text-align:left"><br> Ford</th>
<th style="text-align:left">Profits <br> GM</th>
<th style="text-align:left"><br> Ford</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">2000</td>
<td style="text-align:left">11</td>
<td style="text-align:left">10</td>
<td style="text-align:left">0</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2001</td>
<td style="text-align:left">13</td>
<td style="text-align:left">12</td>
<td style="text-align:left">2</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2002</td>
<td style="text-align:left">13</td>
<td style="text-align:left">14</td>
<td style="text-align:left">0</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2003</td>
<td style="text-align:left">15</td>
<td style="text-align:left">16</td>
<td style="text-align:left">2</td>
<td style="text-align:left">1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is a <strong>long dataset</strong>, or a <strong>"tall"</strong> dataset:</p>
<table>
<thead><tr>
<th style="text-align:left">Year</th>
<th style="text-align:left">Firm</th>
<th style="text-align:left">Sales</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">2000</td>
<td style="text-align:left">Ford</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">2001</td>
<td style="text-align:left">Ford</td>
<td style="text-align:left">12</td>
</tr>
<tr>
<td style="text-align:left">2002</td>
<td style="text-align:left">Ford</td>
<td style="text-align:left">14</td>
</tr>
<tr>
<td style="text-align:left">2003</td>
<td style="text-align:left">Ford</td>
<td style="text-align:left">16</td>
</tr>
<tr>
<td style="text-align:left">2000</td>
<td style="text-align:left">GM</td>
<td style="text-align:left">11</td>
</tr>
<tr>
<td style="text-align:left">2001</td>
<td style="text-align:left">GM</td>
<td style="text-align:left">13</td>
</tr>
<tr>
<td style="text-align:left">2002</td>
<td style="text-align:left">GM</td>
<td style="text-align:left">13</td>
</tr>
<tr>
<td style="text-align:left">2003</td>
<td style="text-align:left">GM</td>
<td style="text-align:left">15</td>
</tr>
</tbody>
</table>
<p>The exact same data, stored as a <strong>wide dataset</strong>:</p>
<table>
<thead><tr>
<th style="text-align:left"><br> Year</th>
<th style="text-align:left">Sales <br> GM</th>
<th style="text-align:left"><br> Ford</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">2000</td>
<td style="text-align:left">11</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">2001</td>
<td style="text-align:left">13</td>
<td style="text-align:left">12</td>
</tr>
<tr>
<td style="text-align:left">2002</td>
<td style="text-align:left">13</td>
<td style="text-align:left">14</td>
</tr>
<tr>
<td style="text-align:left">2003</td>
<td style="text-align:left">15</td>
<td style="text-align:left">16</td>
</tr>
</tbody>
</table>
<p>Notice here how the columns name multiple levels for the name: level 0 is "Sales" which applies to the level 1 "GM" and "Ford". Thus, column 2 is Sales of GM and column 3 is Sales of Ford.</p>
<p>You will need to get comfortable with "MultiIndex", as <code>pandas</code> calls these.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-essential-data-wrangling-toolkit">The essential data wrangling toolkit<a class="anchor-link" href="#The-essential-data-wrangling-toolkit"> </a></h2><p>I imagine you'll return to this page a lot. Today and tomorrow,</p>
<ol>
<li>I'm going to make note of a few important tools we have available</li>
<li>I'll show you an example that illustrates how those tools can be applied</li>
<li>We'll practice together</li>
<li>You'll be in position to attack ASGN 02</li>
<li>Over time and with experience, <code>pandas</code> will become less overwhelming and more of a friend!</li>
</ol>
<p>Note 1: "<code>df</code>" is often used as a name of a generic dataframe in examples. Generally, you should
give your dataframes better names!</p>
<p>Note 2: There are other ways to do many of these operations. For example (the sidebar illustrates)</p>
<ul>
<li><code>df['feet']=df['height']//12</code> will create a new column called feet</li>
<li><code>df[['gender','height']]</code> will return just those two columns- </li>
<li><code>df.loc[df['feet']==5,'feet'] = np.nan</code> will overwrite the feet variable only when feet equals 5</li>
<li>More on indexing and selection <a href="https://jakevdp.github.io/PythonDataScienceHandbook/03.02-data-indexing-and-selection.html">here</a>---highly recommend! If that link is dead: <a href="https://jakevdp.github.io/PythonDataScienceHandbook/03.02-data-indexing-and-selection.html">https://jakevdp.github.io/PythonDataScienceHandbook/03.02-data-indexing-and-selection.html</a></li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell tag_popout">

<div class="cell border-box-sizing code_cell rendered tag_popout">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># everyone imports pandas as pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;height&#39;</span><span class="p">:[</span><span class="mi">72</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">68</span><span class="p">],</span><span class="s1">&#39;gender&#39;</span><span class="p">:[</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;F&#39;</span><span class="p">,</span><span class="s1">&#39;M&#39;</span><span class="p">],</span><span class="s1">&#39;weight&#39;</span><span class="p">:[</span><span class="mi">175</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">150</span><span class="p">]})</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;feet&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span><span class="o">//</span><span class="mi">12</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2"> Original df:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2"> Subset of vars:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span><span class="s1">&#39;height&#39;</span><span class="p">]])</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;feet&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">5</span><span class="p">,</span><span class="s1">&#39;feet&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2"> Replace given condition:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>

 Original df:
    height gender  weight  feet
0      72      M     175     6
1      60      F     110     5
2      68      M     150     5


 Subset of vars:
   gender  height
0      M      72
1      F      60
2      M      68


 Replace given condition:
    height gender  weight  feet
0      72      M     175   6.0
1      60      F     110   NaN
2      68      M     150   NaN
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<h3 id="Essential-pandas:-Manipulating-data">Essential <code>pandas</code>: Manipulating data<a class="anchor-link" href="#Essential-pandas:-Manipulating-data"> </a></h3><p>Try to notice, throughout this lecture, when methods operate on specific DataFrames (e.g. <code>assign</code>)  and when methods are a called on the pandas module itself (e.g. <code>pd.merge</code>). <em>Generally,</em> methods that work outside a single DataFrame (the load data or work on multiple datasets) are called via <code>pd.&lt;method&gt;</code> while methods that work on a single DataFrame are called via <code>&lt;dfname&gt;.&lt;method&gt;</code>.</p>
<table>
<thead><tr>
<th style="text-align:left">Function</th>
<th style="text-align:left">Pandas method</th>
<th style="text-align:left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">new variables or replace existing</td>
<td style="text-align:left">assign</td>
<td style="text-align:left"><code>df.assign(feet=df['height']//12)</code></td>
</tr>
<tr>
<td style="text-align:left">get subset of columns</td>
<td style="text-align:left">filter</td>
<td style="text-align:left"><code>df.filter(['height','weight'])</code></td>
</tr>
<tr>
<td style="text-align:left">rename columns</td>
<td style="text-align:left">rename</td>
<td style="text-align:left"><code>df.rename(columns={"height": "how tall"})</code></td>
</tr>
<tr>
<td style="text-align:left">get subset of observations  <br> or, "drop rows"</td>
<td style="text-align:left">query /  loc / iloc</td>
<td style="text-align:left"><code>df.query('height &gt; 68')</code>    <br> <code>df.loc[df['gender']=='F']</code>   <br> <code>df.iloc[1:]</code></td>
</tr>
<tr>
<td style="text-align:left">sort</td>
<td style="text-align:left">sort_values</td>
<td style="text-align:left"><code>df.sort_values(['gender','weight'])</code></td>
</tr>
<tr>
<td style="text-align:left">create groups</td>
<td style="text-align:left">groupby</td>
<td style="text-align:left"><code>df.groupby(['gender'])</code></td>
</tr>
<tr>
<td style="text-align:left">summary stats on groups</td>
<td style="text-align:left">agg / pivot_table</td>
<td style="text-align:left"><code>df.groupby(['gender'])</code> <br> <code>.agg({'height':[max,min,np.mean]})</code> <br> <br> <code>df.pivot_table(index='age', columns='age', values='weight'</code></td>
</tr>
<tr>
<td style="text-align:left">create a variable based on its group</td>
<td style="text-align:left">agg+transform</td>
<td style="text-align:left"><code>df.groupby(['industry','year'])['leverage'].mean().transform()</code> <br> will add industry average leverage to your dataset for each firm</td>
</tr>
<tr>
<td style="text-align:left">delete column</td>
<td style="text-align:left">drop</td>
<td style="text-align:left"><code>df.drop(columns=['gender'])</code></td>
</tr>
<tr>
<td style="text-align:left">use non-pd function on df</td>
<td style="text-align:left">pipe</td>
<td style="text-align:left"><code>df.pipe((sns.lineplot,data),x=x,y=y)</code></td>
</tr>
<tr>
<td style="text-align:left">combine dataframes</td>
<td style="text-align:left">merge</td>
<td style="text-align:left"><code>pd.merge(df1,df2)</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>RESHAPE:</strong> convert wide to long/tall ("stack!")</td>
<td style="text-align:left">stack</td>
<td style="text-align:left"><code>df.stack()</code>, see popout</td>
</tr>
<tr>
<td style="text-align:left">... another option to reshape tall:</td>
<td style="text-align:left">melt</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>RESHAPE:</strong> convert long/tall to wide ("unstack!")</td>
<td style="text-align:left">unstack</td>
<td style="text-align:left"><code>df.unstack()</code>, see popout</td>
</tr>
<tr>
<td style="text-align:left">... another option to reshape wide:</td>
<td style="text-align:left">pivot / pivot_table</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">change time frequency of data</td>
<td style="text-align:left">resample</td>
<td style="text-align:left"><code>df.resample('Y').mean()</code></td>
</tr>
<tr>
<td style="text-align:left">loading data</td>
<td style="text-align:left">read_csv, read_dta, etc</td>
<td style="text-align:left"><code>pd.read_csv('wine.csv')</code></td>
</tr>
<tr>
<td style="text-align:left">window/rolling calculations</td>
<td style="text-align:left">window</td>
<td style="text-align:left"><code>df['vol_5yr']= df.groupby('firm').rolling(36).var('ret').transform()</code> will add 36 period volatility for each firm</td>
</tr>
</tbody>
</table>
<p>When you wonder about syntax, and arguments, you can either go to the official documentation on the web, or rely on Jupyter's tab auto completion.</p>
<p><strong>Here is a fun trick: <code>SHIFT+TAB</code>!</strong> Try it! Type <code>import pandas as pd</code> then run that to load pandas. Then type <code>pd.merge(</code> like you want to merge to dataframes, except you don't remember the arguments to use. So type <code>SHIFT+TAB+TAB</code>. <em>1 TAB opens a little syntax screen, 2 opens a larger amount of syntax info, and 3 opens the whole help file at the bottom of the screen.</em> I've personally moved to <code>SHIFT+TAB</code> for help most of the time (instead of <code>help()</code> or <code>?</code>).</p>

</div>
</div>
</div>
</div>

<div class="jb_cell tag_popout">

<div class="cell border-box-sizing code_cell rendered tag_popout">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># AN ASIDE ON RESHAPING</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span>   <span class="p">(</span><span class="s1">&#39;Ford&#39;</span><span class="p">,</span><span class="mi">2000</span><span class="p">):</span><span class="mi">10</span><span class="p">,</span>
                   <span class="p">(</span><span class="s1">&#39;Ford&#39;</span><span class="p">,</span><span class="mi">2001</span><span class="p">):</span><span class="mi">12</span><span class="p">,</span>
                   <span class="p">(</span><span class="s1">&#39;Ford&#39;</span><span class="p">,</span><span class="mi">2002</span><span class="p">):</span><span class="mi">14</span><span class="p">,</span>
                   <span class="p">(</span><span class="s1">&#39;Ford&#39;</span><span class="p">,</span><span class="mi">2003</span><span class="p">):</span><span class="mi">16</span><span class="p">,</span>
                   <span class="p">(</span><span class="s1">&#39;GM&#39;</span><span class="p">,</span><span class="mi">2000</span><span class="p">):</span><span class="mi">11</span><span class="p">,</span>
                   <span class="p">(</span><span class="s1">&#39;GM&#39;</span><span class="p">,</span><span class="mi">2001</span><span class="p">):</span><span class="mi">13</span><span class="p">,</span>
                   <span class="p">(</span><span class="s1">&#39;GM&#39;</span><span class="p">,</span><span class="mi">2002</span><span class="p">):</span><span class="mi">13</span><span class="p">,</span>
                   <span class="p">(</span><span class="s1">&#39;GM&#39;</span><span class="p">,</span><span class="mi">2003</span><span class="p">):</span><span class="mi">15</span><span class="p">})</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;Sales&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">rename_axis</span><span class="p">([</span><span class="s1">&#39;Firm&#39;</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>
<span class="n">wide</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Unstack (make it shorter+wider)</span><span class="se">\n</span><span class="s2">on level 0/Firm:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">wide</span><span class="p">)</span> <span class="c1"># move index level 0 (firm name) to column</span>
<span class="n">tall</span> <span class="o">=</span> <span class="n">wide</span><span class="o">.</span><span class="n">stack</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Stack it back (make it tall):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">tall</span><span class="p">)</span> <span class="c1"># move index level 0 (firm name) to column</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Stack it back and reorder </span><span class="se">\n</span><span class="s2">index as before (firm-year):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">tall</span><span class="o">.</span><span class="n">swaplevel</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Unstack level 1/Year:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">df</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># move index level 0 (firm name) to column</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Original:
            Sales
Firm Year       
Ford 2000     10
     2001     12
     2002     14
     2003     16
GM   2000     11
     2001     13
     2002     13
     2003     15


Unstack (make it shorter+wider)
on level 0/Firm:
      Sales    
Firm  Ford  GM
Year          
2000    10  11
2001    12  13
2002    14  13
2003    16  15


Stack it back (make it tall):
            Sales
Year Firm       
2000 Ford     10
     GM       11
2001 Ford     12
     GM       13
2002 Ford     14
     GM       13
2003 Ford     16
     GM       15


Stack it back and reorder 
index as before (firm-year):
            Sales
Firm Year       
Ford 2000     10
     2001     12
     2002     14
     2003     16
GM   2000     11
     2001     13
     2002     13
     2003     15


Unstack level 1/Year:
      Sales               
Year  2000 2001 2002 2003
Firm                     
Ford    10   12   14   16
GM      11   13   13   15
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<h3 id="Temp-vs.-Permanent-Methods">Temp vs. Permanent Methods<a class="anchor-link" href="#Temp-vs.-Permanent-Methods"> </a></h3><p>This is generally true with python but I'll reiterate here: 
Using methods on an object (e.g. a DataFrame) will give you an
object with the method applied, as you
can see here:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># define a df</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;height&#39;</span><span class="p">:[</span><span class="mi">72</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">68</span><span class="p">],</span><span class="s1">&#39;gender&#39;</span><span class="p">:[</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;F&#39;</span><span class="p">,</span><span class="s1">&#39;M&#39;</span><span class="p">],</span><span class="s1">&#39;weight&#39;</span><span class="p">:[</span><span class="mi">175</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">150</span><span class="p">]})</span>
<span class="c1"># call method on df and print</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">feet</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span><span class="o">//</span><span class="mi">12</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   height gender  weight  feet
0      72      M     175     6
1      60      F     110     5
2      68      M     150     5
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Which is useful if you want to 
alter the variable <strong>temporarily</strong>
(e.g. for a graph, or to just 
print it out, like I literally
just did!).</p>
<p><strong>But the object in memory wasn't 
changed when I used <code>df.&lt;method&gt;</code>. See, here is the df in memory:</strong></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>  <span class="c1"># see, no feet!</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   height gender  weight
0      72      M     175
1      60      F     110
2      68      M     150
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>If you want to change the object permanently, you have three
options:</strong></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># option 1: explicitly define the df as the prior df after the method was called</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">feet1</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span><span class="o">//</span><span class="mi">12</span><span class="p">)</span> 

<span class="c1"># option 2: define a new feature of the df</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;feet2&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span><span class="o">//</span><span class="mi">12</span>

<span class="c1"># option 3: some methods have an &quot;inplace&quot; option so you don&#39;t need to write &quot;df = ...&quot;</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="c1"># feet1 and feet 2 added to obj in memory, gender dropped</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   height  weight  feet1  feet2
0      72     175      6      6
1      60     110      5      5
2      68     150      5      5
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Generally, option 2 &gt; 1 (it is easier to read), but you'll need to use option 1 when you're method chaining.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Essential-pandas:-Statistical-operations">Essential <code>pandas</code>: Statistical operations<a class="anchor-link" href="#Essential-pandas:-Statistical-operations"> </a></h3><p>These functions can be called for a variable "col1" in this form: <code>df['col1'].&lt;function&gt;()</code> or for all numerical columns at once using <code>df.&lt;function&gt;()</code>.</p>
<p><strong>ALSO:</strong> These functions work within groups.</p>
<table>
<thead><tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>Number of non-null observations</td>
</tr>
<tr>
<td>sum</td>
<td>Sum of values</td>
</tr>
<tr>
<td>mean</td>
<td>Mean of values</td>
</tr>
<tr>
<td>mad</td>
<td>Mean absolute deviation</td>
</tr>
<tr>
<td>median</td>
<td>Arithmetic median of values</td>
</tr>
<tr>
<td>min</td>
<td>Minimum</td>
</tr>
<tr>
<td>max</td>
<td>Maximum</td>
</tr>
<tr>
<td>mode</td>
<td>Mode</td>
</tr>
<tr>
<td>abs</td>
<td>Absolute Value</td>
</tr>
<tr>
<td>prod</td>
<td>Product of values</td>
</tr>
<tr>
<td>std</td>
<td>Unbiased standard deviation</td>
</tr>
<tr>
<td>var</td>
<td>Unbiased variance</td>
</tr>
<tr>
<td>sem</td>
<td>Unbiased standard error of the mean</td>
</tr>
<tr>
<td>skew</td>
<td>Unbiased skewness (3rd moment)</td>
</tr>
<tr>
<td>kurt</td>
<td>Unbiased kurtosis (4th moment)</td>
</tr>
<tr>
<td>quantile</td>
<td>Sample quantile (value at %)</td>
</tr>
<tr>
<td>cumsum</td>
<td>Cumulative sum</td>
</tr>
<tr>
<td>cumprod</td>
<td>Cumulative product</td>
</tr>
<tr>
<td>cummax</td>
<td>Cumulative maximum</td>
</tr>
<tr>
<td>cummin</td>
<td>Cumulative minimum</td>
</tr>
<tr>
<td>nunique</td>
<td>How many unique values?</td>
</tr>
<tr>
<td>value_counts</td>
<td>How many of each unique value are there?</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Essential-pandas:-Exploring-the-dataset">Essential <code>pandas</code>: Exploring the dataset<a class="anchor-link" href="#Essential-pandas:-Exploring-the-dataset"> </a></h3><p>You should <strong>always, always, always</strong> open your datasets up to physically (digitally?) look at them and then also generate summary statistics:</p>
<ol>
<li>Print the first and last five rows: <code>df.head()</code> and <code>df.tail()</code></li>
<li>What is the shape of the data? <code>df.shape</code></li>
<li>How much memory does it take, and what are the variable names/types? <code>df.info()</code></li>
<li>Summary stats on variables: <code>df.describe()</code>, <code>df.value_counts[:10]</code>, and <code>df['var'].nunique()</code></li>
</ol>
<p>Consider these <strong>Golden Rules</strong>.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># import a famous dataset, seaborn nicely contains it out of the box!</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span> 
<span class="n">iris</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;iris&#39;</span><span class="p">)</span> 

<span class="nb">print</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">tail</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">The shape is: &quot;</span><span class="p">,</span><span class="n">iris</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Info:&quot;</span><span class="p">,</span><span class="n">iris</span><span class="o">.</span><span class="n">info</span><span class="p">())</span> <span class="c1"># memory usage, name, dtype, and # of non-null obs (--&gt; # of missing obs) per variable</span>
<span class="nb">print</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span> <span class="c1"># summary stats, and you can customize the list!</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>   sepal_length  sepal_width  petal_length  petal_width species
0           5.1          3.5           1.4          0.2  setosa
1           4.9          3.0           1.4          0.2  setosa
2           4.7          3.2           1.3          0.2  setosa
3           4.6          3.1           1.5          0.2  setosa
4           5.0          3.6           1.4          0.2  setosa
     sepal_length  sepal_width  petal_length  petal_width    species
145           6.7          3.0           5.2          2.3  virginica
146           6.3          2.5           5.0          1.9  virginica
147           6.5          3.0           5.2          2.0  virginica
148           6.2          3.4           5.4          2.3  virginica
149           5.9          3.0           5.1          1.8  virginica


The shape is:  (150, 5)
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 150 entries, 0 to 149
Data columns (total 5 columns):
sepal_length    150 non-null float64
sepal_width     150 non-null float64
petal_length    150 non-null float64
petal_width     150 non-null float64
species         150 non-null object
dtypes: float64(4), object(1)
memory usage: 6.0+ KB


Info: None
       sepal_length  sepal_width  petal_length  petal_width
count    150.000000   150.000000    150.000000   150.000000
mean       5.843333     3.057333      3.758000     1.199333
std        0.828066     0.435866      1.765298     0.762238
min        4.300000     2.000000      1.000000     0.100000
25%        5.100000     2.800000      1.600000     0.300000
50%        5.800000     3.000000      4.350000     1.300000
75%        6.400000     3.300000      5.100000     1.800000
max        7.900000     4.400000      6.900000     2.500000
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Game-of-Thrones-example---slicing,-group-stats,-and-plotting">Game of Thrones example - slicing, group stats, and plotting<a class="anchor-link" href="#Game-of-Thrones-example---slicing,-group-stats,-and-plotting"> </a></h3><p>I didn't find an off the shelf dataset to run our seminal analysis from last week, but I found <a href="https://www.kaggle.com/dhanushkishore/impact-of-game-of-thrones-on-us-baby-names">an analysis</a> that explored if Game of Thrones prompted parents to start naming their children differently. The following is inspired by that, but uses pandas to acquire and wrangle our data in a "Tidyverse"-style (how R would do it) flow.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#TO USE datadotworld PACKAGE:</span>
<span class="c1">#1. create account at data.world, then run the next two lines:</span>
<span class="c1">#2. in terminal/powershell: pip install datadotworld[pandas]</span>
<span class="c1">#</span>
<span class="c1">#   IF THIS DOESN&#39;T WORK BC YOU GET AN ERROR ABOUT &quot;CCHARDET&quot;, RUN:</span>
<span class="c1">#    conda install -c conda-forge cchardet</span>
<span class="c1">#   THEN RERUN: pip install datadotworld[pandas] </span>
<span class="c1">#</span>
<span class="c1">#3. in terminal/powershell: dw configure          </span>
<span class="c1">#3a. copy in API token from data.world (get from settings &gt; advanced)</span>

<span class="kn">import</span> <span class="nn">datadotworld</span> <span class="k">as</span> <span class="nn">dw</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">baby_names</span> <span class="o">=</span> <span class="n">dw</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;nkrishnaswami/us-ssa-baby-names-national&#39;</span><span class="p">)</span>
<span class="n">baby_names</span> <span class="o">=</span> <span class="n">baby_names</span><span class="o">.</span><span class="n">dataframes</span><span class="p">[</span><span class="s1">&#39;names_ranks_counts&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1">Version 1<a class="anchor-link" href="#Version-1"> </a></h4><ol>
<li>save a slice of the dataset with the names we want (using <code>.loc</code>)</li>
<li>sometimes a name is used by boys and girls in the same year, so combine the counts so that we have one observation per name per year</li>
<li>save the dataset and then call a plot function</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># restrict by name and only keep years after 2000</span>
<span class="n">somenames</span> <span class="o">=</span> <span class="n">baby_names</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span> <span class="c1"># formating inside this () is just to make it clearer to a reader</span>
    <span class="p">(</span> <span class="c1"># condition 1: one of these names, | means &quot;or&quot;</span>
        <span class="p">(</span><span class="n">baby_names</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Sansa&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">baby_names</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Daenerys&quot;</span><span class="p">)</span> <span class="o">|</span> 
        <span class="p">(</span><span class="n">baby_names</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Brienne&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">baby_names</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Cersei&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">baby_names</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Tyrion&quot;</span><span class="p">)</span> 
    <span class="p">)</span> <span class="c1"># end condition 1</span>
    <span class="o">&amp;</span> <span class="c1"># &amp; means &quot;and&quot;</span>
    <span class="p">(</span> <span class="c1"># condition 2: these years</span>
        <span class="n">baby_names</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">2000</span><span class="p">)</span> <span class="c1"># end condition 2</span>
    <span class="p">)]</span>

<span class="c1"># if a name is used by F and M in a given year, combine the count variable</span>
<span class="c1"># Q: why is there a &quot;reset_index&quot;? </span>
<span class="c1"># A: groupby automatically turns the groups (here name and year) into the index</span>
<span class="c1">#    reset_index makes the index simple integers 0, 1, 2 and also</span>
<span class="c1">#    turns the the grouping variables back into normal columns</span>
<span class="c1"># A2: instead of reset_index, you can include `as_index=False` inside groupby!</span>
<span class="c1">#     (I just learned that myself!)</span>
<span class="n">somenames_agg</span> <span class="o">=</span> <span class="n">somenames</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])</span>

<span class="c1"># plot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">somenames_agg</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1"># add a line for when the show debuted</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.lines.Line2D at 0x2dd2103ad48&gt;</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../images/02/02_Pandas_23_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-2---query-&gt;-loc,-for-readability">Version 2 - <code>query</code> &gt; <code>loc</code>, for readability<a class="anchor-link" href="#Version-2---query-&gt;-loc,-for-readability"> </a></h4><p>Same as V1, but step 1 uses <code>.query</code> to slice inside of <code>.loc</code></p>
<ol>
<li>save a slice of the dataset with the names we want (using <code>.query</code>)</li>
<li>sometimes a name is used by boys and girls in the same year, so combine the counts so that we have one observation per name per year</li>
<li>save the dataset and then call a plot function</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># use query instead to slice, and the rest is the same</span>
<span class="n">somenames</span> <span class="o">=</span> <span class="n">baby_names</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;name in [&quot;Sansa&quot;,&quot;Daenerys&quot;,&quot;Brienne&quot;,&quot;Cersei&quot;,&quot;Tyrion&quot;] &amp; </span><span class="se">\</span>
<span class="s1">         year &gt;= 2000&#39;</span><span class="p">)</span> <span class="c1"># this is one string with &#39; as the string start/end symbol. Inside, I can use </span>
                        <span class="c1"># normal quote marks for strings. Also, I can break it into multiple lines with \</span>
<span class="n">somenames_agg</span> <span class="o">=</span> <span class="n">somenames</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">somenames_agg</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1"># add a line for when the show debuted</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.lines.Line2D at 0x2dd1e387bc8&gt;</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../images/02/02_Pandas_25_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-3---Method-chaining!">Version 3 - Method chaining!<a class="anchor-link" href="#Version-3---Method-chaining!"> </a></h4><p>Method chaining: Call the object (<code>baby_names</code>) and then keep calling one method on it after another.</p>
<ul>
<li>Python will call the methods from left to right. </li>
<li>There is no need to store the intermediate dataset (like <code>somenames</code> and <code>somenames_agg</code> above!)<ul>
<li>--&gt; Easier to read and write without "temp" objects all over the place</li>
<li>You can always save the dataset at an intermediate step if you need to</li>
</ul>
</li>
</ul>
<p>So, the first two steps are the same, just the methods will be chained. And then, a bonus trick to plot
without saving.</p>
<ol>
<li>Slice with <code>.query</code> to GoT-related names</li>
<li>Combine M and F gender counts if a name is used by both in the same year</li>
<li>Plot without saving: "Pipe" in the plotting function </li>
</ol>
<p>The code below produces a plot identical to V1 and V2, <strong>but it is unreadable. Don't try - I'm about to make this readable!</strong> Just <em>one more</em> iteration...</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">baby_names</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;name in [&quot;Sansa&quot;,&quot;Daenerys&quot;,&quot;Brienne&quot;,&quot;Cersei&quot;,&quot;Tyrion&quot;] &amp; year &gt;= 2000&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">pipe</span><span class="p">((</span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">),</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1"># add a line for when the show debuted</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.lines.Line2D at 0x2dd1f726308&gt;</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../images/02/02_Pandas_27_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To make this readable, we write a parentheses over multiple lines</p>

<pre><code>(
    and python knows to execute the code inside as one line
)</code></pre>
<p>And as a result, we can write a long series of methods that is comprehensible, and if we want we can even comment on each line:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">baby_names</span>
      <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;name in [&quot;Sansa&quot;,&quot;Daenerys&quot;,&quot;Brienne&quot;,&quot;Cersei&quot;,&quot;Tyrion&quot;] &amp; </span><span class="se">\</span>
<span class="s1">         year &gt;= 2000&#39;</span><span class="p">)</span>
      <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="c1"># for each name-year, combine M and F counts</span>
      <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span> <span class="c1"># give us the column names back as they were (makes the plot call easy)</span>
      <span class="o">.</span><span class="n">pipe</span><span class="p">((</span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">),</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="p">)</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1"># add a line for when the show debuted</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;WOW THAT WAS EASY TO WRITE AND SHARE&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Text(0.5, 1.0, &#39;WOW THAT WAS EASY TO WRITE AND SHARE&#39;)</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../images/02/02_Pandas_29_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>WOW. That's nice code!</strong></p>
<p>Also: <strong>Naming your baby Daenerys after the hero...</strong></p>
<p>...is a bad break.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">baby_names</span>
      <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;name in [&quot;Khaleesi&quot;,&quot;Ramsay&quot;,&quot;Lyanna&quot;,&quot;Ellaria&quot;,&quot;Meera&quot;] &amp; </span><span class="se">\</span>
<span class="s1">         year &gt;= 2000&#39;</span><span class="p">)</span>
      <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="c1"># for each name-year, combine M and F counts</span>
      <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span> <span class="c1"># give use the column names back as they were (makes the plot call easy)</span>
      <span class="o">.</span><span class="n">pipe</span><span class="p">((</span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">),</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="p">)</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1"># add a line for when the show debuted</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PEOPLE NAMED THEIR KID KHALEESI&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Text(0.5, 1.0, &#39;PEOPLE NAMED THEIR KID KHALEESI&#39;)</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../images/02/02_Pandas_31_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>BUT IT COULD BE WORSE</strong></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">baby_names</span>
      <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;name in [&quot;Krymson&quot;] &amp; year &gt;= 1950&#39;</span><span class="p">)</span>
      <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="c1"># for each name-year, combine M and F counts</span>
      <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span> <span class="c1"># give use the column names back as they were (makes the plot call easy)</span>
      <span class="o">.</span><span class="n">pipe</span><span class="p">((</span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">),</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="p">)</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Alabama, wow...Krymson, really?&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Text(0.5, 1.0, &#39;Alabama, wow...Krymson, really?&#39;)</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../images/02/02_Pandas_33_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Cookbook-and-best-practices-(a-starter-kit)">Cookbook and best practices (a starter kit)<a class="anchor-link" href="#Cookbook-and-best-practices-(a-starter-kit)"> </a></h2><h3 id="General-analysis-steps-and-comments">General analysis steps and comments<a class="anchor-link" href="#General-analysis-steps-and-comments"> </a></h3><ol>
<li><a href="#Essential-pandas:-Exploring-the-dataset">Start with the basic data exploration steps above</a><ul>
<li>variable names, types, count/missing, distributions</li>
</ul>
</li>
<li>Data cleaning:<ul>
<li>Do some variables have large outliers? You might need to winsorize or drop those observations.</li>
<li>Do some variables have many missing variables? Maybe there was a problem with the source or how you loaded it.</li>
<li>Do some variables have impossible values? For example, sales can't be negative! Yet, some datasets use "-99" to indicate missing data. Or are there bad dates (June 31st)?</li>
<li>Are there duplicate observations (e.g. two 2001-GM observations because they changed their fiscal year in the middle of calendar year 2001?)</li>
<li>Are there missing observations or a gap in the time series (e.g. no observation in 2005 for Enron because the executive team was too "distracted to file its 10-K)</li>
<li>Do variables contradict each other? (E.g. If my birthday is 1/5/1999, then I must be 21 as of this writing.)</li>
</ul>
</li>
<li>Institutional knowledge is crucial. <ul>
<li>For example, in my research on firm investment policies and financing decisions (e.g. leverage), I drop any firms from the finance or utility industries. I know to do this because those industries are subject to several factors that fundamentally change their leverage in ways unrelated to their investment policies. Thus, including them would contaminate any relationships I find.</li>
<li>When we work with 10-K text data, we need to know what data tables are available and how to remove boilerplate. </li>
<li>You only get institutional through reading supporting materials, documentation, related info (research papers and WSJ, etc), and... the documents themselves. For example, I've read in excess of 6,000 proxy statements for a single research project. (If that sounds exciting: Go to grad school and become a prof!)</li>
</ul>
</li>
<li>Explore the data with your question in mind<ul>
<li>Compute statistics by subgroups (by age, or industry), or two-way (by gender and age)</li>
<li>This step reinforces institutional knowledge and understanding of the data</li>
<li><strong>Data exploration</strong> and <strong>data cleaning</strong> are interrelated and you'll go back and forth from one to the other. </li>
</ul>
</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Creating-summary-tables">Creating summary tables<a class="anchor-link" href="#Creating-summary-tables"> </a></h3><ul>
<li>A big part of the challenge is knowing what "cuts" of the data are interesting. You'll figure this out as you get more knowledge in a specific area.</li>
<li>In tables that cut data based on two variables, how do you decide on the "second variable" to slice? <ol>
<li>Secondary slices might be on <em>a priori</em> (known in advance) interesting variables ("everyone talks about growth potential so I'll also cut by that too because they will wonder about it if I don't") </li>
<li>Or, choose second variables because you think that the impact of the first variable will depend on the second variable. Suppose you divide firms into "young and old" as a first slice. Your second slice might be industries: perhaps leverage is only a little lower for older railroad firms but leverage is much higher for large firms in tech industries.</li>
<li>Another example: A common data science training dataset is about surviving the Titanic. Women survived at higher rates, but this is <strong>especially</strong> true in first class, where very few women died. The gender disparity was less severe in third class; while third class  men were more likely to perish than first class men, 45% of women in third class died, compared to ~0 in first class. </li>
</ol>
</li>
</ul>
<p><strong>Essential reading.</strong> Rather than me replicating these pages, read these after class, follow them, and save snippets of code you find useful to your growing cheat sheet.</p>
<ul>
<li><a href="https://jakevdp.github.io/PythonDataScienceHandbook/03.08-aggregation-and-grouping.html">Aggregation and grouping</a></li>
<li><a href="https://jakevdp.github.io/PythonDataScienceHandbook/03.09-pivot-tables.html">Pivot tables</a></li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Creating-summary-plots">Creating summary plots<a class="anchor-link" href="#Creating-summary-plots"> </a></h3><p>Next week! But you'll see a little plotting in the practice session. Speaking of which...</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Time-to-practice">Time to practice<a class="anchor-link" href="#Time-to-practice"> </a></h2><p><a href="https://github.com/LeDataSciFi/lectures-spr2020/tree/master/content/">Inside the Lecture repo</a>, go into the <code>02</code> subfolder and find the <code>02a-pandas-practice.ipynb</code> file and download it to your participation repo.</p>
<p>HINTS and supporting examples: See the links a few lines above this!</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Before-next-class">Before next class<a class="anchor-link" href="#Before-next-class"> </a></h2><ol>
<li>Finish and upload the numpy and pandas practice files to your participation repo.</li>
<li>Read the <a href="https://jakevdp.github.io/PythonDataScienceHandbook/03.08-aggregation-and-grouping.html">Aggregation and grouping</a> and <a href="https://jakevdp.github.io/PythonDataScienceHandbook/03.09-pivot-tables.html">Pivot tables</a> links</li>
<li>Peer reviews are due tomorrow and an assignment on Monday!</li>
</ol>
<p><img src="https://media.giphy.com/media/NzUjse8VQRTvG/giphy.gif" alt=""></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Credits">Credits<a class="anchor-link" href="#Credits"> </a></h2><p>Here are some links I found that I liked. They cover many aspects of <code>panda</code>ing:</p>
<ol>
<li><a href="https://tomaugspurger.github.io/modern-1-intro">This covers indexing and slicing issues nicely</a></li>
<li><a href="https://stmorse.github.io/journal/tidyverse-style-pandas.html">This covers method chaining so that Python can approximate R's elegance at data wrangling and plotting</a></li>
<li><a href="https://gist.github.com/conormm/fd8b1980c28dd21cfaf6975c86c74d07">This also has nice and quick examples showing Python matching R functions</a></li>
<li><a href="https://stackoverflow.com/questions/tagged/pandas?sort=votes&amp;pageSize=50">The most popular questions about <code>pandas</code> on Stackoverflow.</a> This will give you an idea of common places others get stuck, and slicing and indexing issues are high on the list.</li>
<li><a href="https://www.textbook.ds100.org">https://www.textbook.ds100.org</a></li>
</ol>

</div>
</div>
</div>
</div>

 


    </main>
    